{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const refs = {\n    feedbackForm: document.querySelector('.feedback-form'),\n}\n\nlet formData = {};\n\nconst fillFormFields = feedbackForm => {\n    const formDataFromLS = JSON.parse(localStorage.getItem('feedback-form-state'));\n\n    if (formDataFromLS === null){\n        return;\n    }\n\n    formData = formDataFromLS;\n\n    const formDataKeys = Object.keys(formDataFromLS);\n\n    formDataKeys.forEach(key => {\n        feedbackForm.elements[key].value = formDataFromLS[key];\n    });\n\n    console.log(formDataKeys);\n};\n\nfillFormFields(refs.feedbackForm);\n\nconst onFormFieldChange = ({target: formField}) => {\n    const fieldName = formField.name;\n    const fieldValue = formField.value;\n\n    formData[fieldName] = fieldValue;\n\n    localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n};\n\nconst onFeedbackFormSubmit = event => {\n    event.preventDefault();\n\n    if (event.target.elements.email.value === \"\" || event.target.elements.message.value  === \"\"){\n        alert(`Fill please all fields`);\n        return;\n    }\n    \n    console.log(formData);\n\n    localStorage.removeItem('feedback-form-state');\n    event.currentTarget.reset();\n};\n\nrefs.feedbackForm.addEventListener('input', onFormFieldChange);\nrefs.feedbackForm.addEventListener('submit', onFeedbackFormSubmit);"],"names":["refs","formData","fillFormFields","feedbackForm","formDataFromLS","formDataKeys","key","onFormFieldChange","formField","fieldName","fieldValue","onFeedbackFormSubmit","event"],"mappings":"oDAAA,MAAMA,EAAO,CACT,aAAc,SAAS,cAAc,gBAAgB,CACzD,EAEA,IAAIC,EAAW,CAAA,EAEf,MAAMC,EAAiBC,GAAgB,CACnC,MAAMC,EAAiB,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAE7E,GAAIA,IAAmB,KACnB,OAGJH,EAAWG,EAEX,MAAMC,EAAe,OAAO,KAAKD,CAAc,EAE/CC,EAAa,QAAQC,GAAO,CACxBH,EAAa,SAASG,CAAG,EAAE,MAAQF,EAAeE,CAAG,CAC7D,CAAK,EAED,QAAQ,IAAID,CAAY,CAC5B,EAEAH,EAAeF,EAAK,YAAY,EAEhC,MAAMO,EAAoB,CAAC,CAAC,OAAQC,CAAS,IAAM,CAC/C,MAAMC,EAAYD,EAAU,KACtBE,EAAaF,EAAU,MAE7BP,EAASQ,CAAS,EAAIC,EAEtB,aAAa,QAAQ,sBAAuB,KAAK,UAAUT,CAAQ,CAAC,CACxE,EAEMU,EAAuBC,GAAS,CAGlC,GAFAA,EAAM,eAAc,EAEhBA,EAAM,OAAO,SAAS,MAAM,QAAU,IAAMA,EAAM,OAAO,SAAS,QAAQ,QAAW,GAAG,CACxF,MAAM,wBAAwB,EAC9B,MACH,CAED,QAAQ,IAAIX,CAAQ,EAEpB,aAAa,WAAW,qBAAqB,EAC7CW,EAAM,cAAc,OACxB,EAEAZ,EAAK,aAAa,iBAAiB,QAASO,CAAiB,EAC7DP,EAAK,aAAa,iBAAiB,SAAUW,CAAoB"}